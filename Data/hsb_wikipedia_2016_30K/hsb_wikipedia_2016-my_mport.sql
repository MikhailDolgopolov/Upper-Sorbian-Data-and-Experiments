CREATE DATABASE "hsb_wikipedia_2016_30K";

CREATE SCHEMA "hsb_wikipedia_2016_30K".main

CREATE TABLE "public".words  (
  "w_id" int PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  "word" text  DEFAULT NULL,
  "freq" int  DEFAULT NULL
);

CREATE TABLE "sentences" (
  "s_id" int PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  "sentence" text
);

CREATE TABLE "co_s" (
  "w1_id" int  NOT NULL DEFAULT 0,
  "w2_id" int  NOT NULL DEFAULT 0,
  "freq" int DEFAULT NULL,
  "sig" float DEFAULT NULL,
  PRIMARY KEY ("w1_id","w2_id")
);

CREATE TABLE "co_n" (
  "w1_id" int,
  "w2_id" int,
  "freq" int DEFAULT NULL,
  "sig" float DEFAULT NULL,
  PRIMARY KEY ("w1_id","w2_id")
);

CREATE TABLE "inv_w" (
  "w_id" int NOT NULL DEFAULT 0,
  "s_id" int NOT NULL DEFAULT 0,
  "pos" int NOT NULL DEFAULT 0,
   PRIMARY KEY ("w_id","s_id")
);

CREATE TABLE "inv_so" (
  "so_id" int NOT NULL DEFAULT 0,
  "s_id" int NOT NULL DEFAULT 0
);

CREATE TABLE "sources" (
  "so_id" int PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  "source" text DEFAULT NULL,
  "date" date DEFAULT NULL
);

-- ALTER TABLE "words" DISABLE RULE;
-- ALTER TABLE "sentences" DISABLE RULE;
-- ALTER TABLE "co_s" DISABLE RULE;
-- ALTER TABLE "co_n" DISABLE RULE;
-- ALTER TABLE "inv_w" DISABLE RULE;
-- ALTER TABLE "inv_so" DISABLE RULE;
-- ALTER TABLE "sources" DISABLE RULE;

COPY words FROM 'hsb_wikipedia_2016_30K-words.txt' DELIMITER '    '
-- LOAD DATA LOCAL INFILE "hsb_wikipedia_2016_30K-words.txt" INTO TABLE words;
-- LOAD DATA LOCAL INFILE "hsb_wikipedia_2016_30K-sentences.txt" INTO TABLE sentences;
-- LOAD DATA LOCAL INFILE "hsb_wikipedia_2016_30K-co_s.txt" INTO TABLE co_s;
-- LOAD DATA LOCAL INFILE "hsb_wikipedia_2016_30K-co_n.txt" INTO TABLE co_n;
-- LOAD DATA LOCAL INFILE "hsb_wikipedia_2016_30K-inv_w.txt" INTO TABLE inv_w;
-- LOAD DATA LOCAL INFILE "hsb_wikipedia_2016_30K-inv_so.txt" INTO TABLE inv_so;
-- LOAD DATA LOCAL INFILE "hsb_wikipedia_2016_30K-sources.txt" INTO TABLE sources;

-- ALTER TABLE "words" ENABLE RULE;
-- ALTER TABLE "sentences" ENABLE RULE;
-- ALTER TABLE "co_s" ENABLE RULE;
-- ALTER TABLE "co_n" ENABLE RULE;
-- ALTER TABLE "inv_w" ENABLE RULE;
-- ALTER TABLE "inv_so" ENABLE RULE;
-- ALTER TABLE "sources" ENABLE RULE;